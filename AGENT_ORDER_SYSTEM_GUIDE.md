# 🤖 Agent Order System Guide

This guide explains how to use the AI agent system to generate products and orders through chat commands, and how they appear on the monitoring dashboard.

## 🚀 Overview

The Agent Order System allows you to:
- **Generate products** through natural language chat commands
- **Create orders** with specific requirements
- **Generate bulk orders** for testing and demonstration
- **View real-time updates** on the monitoring dashboard
- **Interact with AI agents** that understand supply chain context

## 🎯 How It Works

### 1. **AI Agent Integration**
- The system uses LlamaIndex agents with specialized tools
- Agents understand supply chain terminology and context
- Natural language processing for intuitive commands

### 2. **Product & Order Generation**
- Agents can create realistic products with categories and pricing
- Orders include suppliers, priorities, delivery times, and tracking
- Automatic calculation of order values and metrics

### 3. **Real-time Dashboard Updates**
- Orders appear immediately on the monitoring dashboard
- Metrics update automatically (total orders, urgent orders, etc.)
- Visual indicators for order priorities and statuses

## 💬 Chat Commands

### **Product Commands**

#### Create a New Product
```
"Create a new product called Smart Sensor"
"Create a product called Widget with category Electronics and price $99.99"
"Add a new product called Temperature Controller"
```

#### Get Products
```
"Show me all products"
"List available products"
"What products do we have?"
```

### **Order Commands**

#### Create a Single Order
```
"Create an urgent order for microprocessors"
"Create an order for Widget and Memory chips with quantity 50"
"Create a high priority order for TechCorp Solutions"
```

#### Generate Multiple Orders
```
"Generate 5 urgent orders"
"Create 10 bulk orders"
"Generate 3 premium orders"
"Make 7 mixed orders"
```

#### Get Orders
```
"Show me all orders"
"List recent orders"
"What orders do we have?"
```

### **Dashboard Commands**

#### Get Dashboard Data
```
"Show me dashboard data"
"Get metrics"
"Display dashboard information"
```

## 🎨 Dashboard Features

### **Key Metrics Cards**
- **Total Orders**: Number of orders generated by agents
- **Urgent Orders**: High-priority orders requiring attention
- **Total Value**: Combined value of all orders
- **Products**: Number of available products

### **Recent Orders Section**
- Displays the latest 10 orders
- Shows order ID, supplier, products, amount, and priority
- Color-coded priority badges (urgent = red, high = orange, etc.)
- Real-time updates as new orders are generated

### **Quick Actions**
- **Urgent Orders**: Generate high-priority orders
- **Bulk Orders**: Create large quantity orders
- **New Product**: Add a new product to the system
- **Refresh Data**: Update dashboard with latest information

## 🔧 Technical Implementation

### **Agent Architecture**
```
┌─────────────────┐    ┌──────────────────┐    ┌─────────────────┐
│   Chat Input    │───▶│  LlamaIndex      │───▶│  Product Order  │
│                 │    │  Agent           │    │  Agent          │
└─────────────────┘    └──────────────────┘    └─────────────────┘
                                │
                                ▼
                       ┌──────────────────┐
                       │  Dashboard       │
                       │  Updates        │
                       └──────────────────┘
```

### **Data Flow**
1. **User types chat command** → CopilotKit processes input
2. **Agent receives command** → LlamaIndex routes to appropriate tool
3. **Product/Order created** → Agent generates realistic data
4. **Dashboard updates** → Real-time display of new data
5. **Metrics calculated** → Automatic aggregation and display

### **Agent Tools Available**
- `create_product`: Create new products
- `create_order`: Create individual orders
- `generate_orders`: Generate multiple orders
- `get_products`: Retrieve all products
- `get_orders`: Retrieve all orders
- `get_dashboard_data`: Get metrics and statistics

## 📊 Order Types and Variations

### **Order Patterns**
| Type | Description | Priority | Delivery Time | Frequency |
|------|-------------|----------|---------------|-----------|
| **Urgent** | Express delivery required | Urgent | 1 day | 10% |
| **Bulk** | Large quantity orders | Medium | 7 days | 15% |
| **Regular** | Standard processing | Medium | 3 days | 60% |
| **Premium** | VIP customers | High | 2 days | 10% |
| **Delayed** | Backorder processing | Low | 14 days | 5% |

### **Product Categories**
- Electronics
- Mechanical Parts
- Raw Materials
- Components
- Tools
- Accessories
- Software
- Hardware
- Materials

### **Suppliers**
- TechCorp Solutions
- Global Parts Inc
- Budget Suppliers Ltd
- Premium Components
- FastTrack Logistics
- Reliable Systems
- Innovation Labs
- Quality Materials Co
- Express Suppliers

## 🎯 Usage Examples

### **Example 1: Generate Test Data**
```
User: "Generate 5 urgent orders"
Agent: "✅ Generated 5 urgent orders (Total value: $2,450.00)"
Dashboard: Shows 5 new orders with urgent priority
```

### **Example 2: Create Custom Product**
```
User: "Create a new product called Smart Sensor with category Electronics and price $150"
Agent: "✅ Created product: PROD-0007 - Smart Sensor ($150.00)"
Dashboard: Product count increases, available for orders
```

### **Example 3: Create Specific Order**
```
User: "Create an urgent order for Smart Sensor and Memory chips with quantity 20"
Agent: "✅ Created order: ORD-1759009147-1234 - TechCorp Solutions - $4,600.00"
Dashboard: New order appears with urgent priority badge
```

### **Example 4: Get Dashboard Overview**
```
User: "Show me dashboard data"
Agent: "📊 Dashboard Data:
• Total Orders: 15
• Urgent Orders: 3
• Critical Orders: 1
• Total Value: $45,230.50
• Products: 12"
```

## 🚀 Getting Started

### **1. Start the Application**
```bash
npm run dev
```

### **2. Access the Dashboard**
- Go to `http://localhost:3001`
- Click "📊 Monitoring" button
- You'll see the Agent Order Dashboard

### **3. Try Chat Commands**
- Use the chat interface on the left
- Try the suggested commands
- Watch the dashboard update in real-time

### **4. Generate Test Data**
- Start with: "Generate 5 mixed orders"
- Create products: "Create a new product called Widget"
- Create orders: "Create an urgent order for Widget"

## 🔍 Monitoring and Analytics

### **Real-time Metrics**
- **Order Count**: Total number of orders generated
- **Priority Distribution**: Breakdown by urgency level
- **Value Tracking**: Total monetary value of orders
- **Supplier Activity**: Orders by supplier
- **Product Usage**: Most ordered products

### **Alert System**
- **Urgent Orders**: Automatically flagged for attention
- **High Value Orders**: Large monetary value orders
- **Supplier Issues**: Orders from problematic suppliers
- **Delivery Delays**: Orders with extended delivery times

## 🛠️ Customization

### **Adding New Product Categories**
Edit `agent/agent/product_order_agent.py`:
```python
self.product_categories = [
    "Electronics", "Mechanical Parts", "Raw Materials",
    "Your New Category"  # Add here
]
```

### **Adding New Suppliers**
```python
self.suppliers = [
    "TechCorp Solutions", "Global Parts Inc",
    "Your New Supplier"  # Add here
]
```

### **Modifying Order Patterns**
```python
self.order_patterns = {
    "custom_orders": {
        "frequency": 0.2, 
        "priority": "high", 
        "delivery_time": 5
    }
}
```

## 🧪 Testing

### **Test Agent Integration**
```bash
python3 simple_agent_test.py
```

### **Test Individual Components**
```bash
# Test product creation
python3 -c "from agent.product_order_agent import create_product_command; print(create_product_command('Test Widget'))"

# Test order generation
python3 -c "from agent.product_order_agent import generate_orders_command; print(generate_orders_command(3, 'urgent'))"
```

## 📈 Advanced Usage

### **Bulk Data Generation**
```
"Generate 20 mixed orders"
"Create 10 urgent orders for testing"
"Generate 5 bulk orders for demonstration"
```

### **Product Management**
```
"Create 5 new products"
"Add products for electronics category"
"Create products with different price ranges"
```

### **Order Analytics**
```
"Show me orders by priority"
"Get orders from TechCorp Solutions"
"Display orders above $1000"
```

## 🆘 Troubleshooting

### **Common Issues**

1. **Agent not responding**
   - Check if the main application is running
   - Verify agent tools are loaded
   - Try refreshing the page

2. **Orders not appearing**
   - Check browser console for errors
   - Verify agent integration is working
   - Try the test script: `python3 simple_agent_test.py`

3. **Chat not working**
   - Ensure CopilotKit is properly configured
   - Check for JavaScript errors in console
   - Verify agent tools are available

### **Debug Commands**
```
"Get dashboard data"  # Check if agent is responding
"Show me all products"  # Verify product system
"List all orders"  # Check order system
```

## 🎉 Success Indicators

You'll know the system is working when:
- ✅ Chat commands generate responses
- ✅ Orders appear on the dashboard
- ✅ Metrics update in real-time
- ✅ Priority badges show correctly
- ✅ Order values are calculated properly

The Agent Order System provides a powerful way to generate realistic supply chain data through natural language interaction, making it perfect for testing, demonstration, and learning about supply chain management! 🚀📦✨
